import{_ as e,e as t,a as i,b as a,y as n}from"./2ce5e5c8.js";import{r,t as s,E as o}from"./7a7ec51d.js";import{B as m}from"./908d7932.js";function h(e){r(1,arguments);var t=s(e);return t.setHours(0,0,0,0),t}var c;class d extends m{constructor(){super(),this.items=[],c.set(this,void 0),this.title="",i(this,c,new o,"f")}updated(e){super.updated(e),(e.has("query")||e.has("limit")||e.has("category"))&&(this.loading=!0,a(this,c,"f").query=this.query,a(this,c,"f").limit=this.limit,a(this,c,"f").category=this.category,a(this,c,"f").fetchData().then((e=>{this.items=e,this.loading=!1})))}_dateRange(e,t){const i=e?new Date(e):new Date,a=t?new Date(t):new Date;return function(e,t){r(2,arguments);var i=h(e),a=h(t);return i.getTime()===a.getTime()}(i,a)?new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",timeZone:"America/New_York"}).format(i):`${new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",timeZone:"America/New_York"}).format(i)} - ${new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",timeZone:"America/New_York"}).format(a)}`}_timeRange(e,t){return`${new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit",timeZone:"America/New_York"}).format(e)} - ${new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit",timeZoneName:"short",timeZone:"America/New_York"}).format(t)}`}render(){return n` ${this.title?n`<h2>${this.title}</h2>`:""} <div class="event-container"> ${this.loading?n`<wait-spinner></wait-spinner>`:""} ${this.items.map((e=>n` <div class="event"> <a href="${e.link}" class="event-url"> <h4 class="event-title">${e.title}</h4> <p class="event-date">${this._dateRange(e.start,e.end)}</p> <p class="event-time">${this._timeRange(e.start,e.end)}</p> </a> </div> `))} <slot name="see-more"></slot> </div> `}}c=new WeakMap,e([t({type:String})],d.prototype,"category",void 0),e([t({type:Array})],d.prototype,"items",void 0),window.customElements.define("events-section",d);
