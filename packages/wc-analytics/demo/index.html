<!doctype html>
<html lang="en-GB">
<head>
  <meta charset="utf-8">
  <style>
    body {
      background: #fafafa;
    }
  </style>
</head>
<body>
  <button>Click me to trigger an event</button><br />
  <input placeholder="fake search field to log site search" />
  <uvalib-analytics matomoId="23"></uvalib-analytics>

  <script type="module">
    import '../uvalib-analytics.js';

    document.querySelector('button').addEventListener('click',(e)=>{
      e.target.dispatchEvent(new CustomEvent("uvalib-analytics-event", {
        detail: {event:["foo","bar","test","me"]},
        bubbles: true
      }));
    });

    document.querySelector('input').addEventListener('keypress',(e)=>{
      if (e.key === 'Enter') {
        let searchQuery = e.target.value;
        e.target.dispatchEvent(new CustomEvent("uvalib-analytics-search", {
        detail: {searchQuery:searchQuery, searchCategory:"testSearch", resultCount: 55555},
        bubbles: true
      }));
      }
    });
  </script>
</body>
</html>
