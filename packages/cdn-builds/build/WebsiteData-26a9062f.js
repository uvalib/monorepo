import{G as t}from"./GeneralSearchResult-331b56d5.js";import{D as e,p as a,W as i}from"./LibrariesData-94a85757.js";class r extends t{constructor(t){super(t)}}function s(t){var e;return new r({id:t.id,uuid:t.id,title:t.attributes.title,body:null===(e=t.attributes.body)||void 0===e?void 0:e.processed,description:t.meta&&t.meta.excerpt?t.meta.excerpt.replace(/<(\/?)strong>/g,"<$1mark>"):"",path:t.attributes.path.alias,link:`http://library.virginia.edu${t.attributes.path.alias}`})}class l extends t{constructor(t){super(t)}}function d(t){var e,a,i;return new l({id:t.id,uuid:t.id,title:t.attributes.title,name:t.attributes.title,jobTitle:t.attributes.field_uva_ldap_title,description:(null===(e=t.attributes.body)||void 0===e?void 0:e.processed)||"",path:null===(a=t.attributes.path)||void 0===a?void 0:a.alias,link:`http://library.virginia.edu${null===(i=t.attributes.path)||void 0===i?void 0:i.alias}`,computingId:t.attributes.field_computing_id,email:t.attributes.field_uva_ldap_email})}class u extends r{}class o extends e{constructor(){super(...arguments),this.items=[],this.types=["page","person","library","article"]}parseResults(t){var e;t.data.forEach((e=>{const a=e.attributes.drupal_internal__nid,i=t.meta.extra_data[a];e.meta=i})),this.items=t.data?t.data.map((t=>"node--page"===t.type?s(t):"node--person"===t.type?d(t):"node--library"===t.type?a(t):"node--article"===t.type?function(t){var e;return new u({id:t.id,uuid:t.id,title:t.attributes.title,body:null===(e=t.attributes.body)||void 0===e?void 0:e.processed,description:t.meta&&t.meta.excerpt?t.meta.excerpt.replace(/<(\/?)strong>/g,"<$1mark>"):"",path:t.attributes.path.alias,link:`http://library.virginia.edu${t.attributes.path.alias}`})}(t):{title:t.attributes.title,description:t.attributes.body?t.attributes.body.value:null})):[],this.meta.totalResults=(null===(e=t.data)||void 0===e?void 0:e.meta)?t.data.meta.count:t.meta?t.meta.count:0,this.meta.url=`${i}?search_api_fulltext=${this.query}`}}export{r as P,o as W,l as a,d as b,s as p};
