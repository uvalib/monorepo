import{_ as e,n as t}from"./query-assigned-elements-8ef6cca7.js";import{SearchLibrary as r}from"@uvalib/js-search/dist/browser/SearchLibrary.js";import{B as s,r as i}from"./BentoSection-42015d06.js";import"./lit-element-9e1ac43c.js";import"./unsafe-html-9171da0a.js";import"./SiteStyle-35a18246.js";class a extends s{constructor(){super(...arguments),this.searchLib=new r,this.staticIndexURL="/demo/searchIndex.json",this.loading=!0}async firstUpdated(){try{const e=await fetch(this.staticIndexURL),t=await e.text();await this.searchLib.loadFromString(t),this.loading=!1}catch(e){console.error(`Error loading search index: ${e}`),this.loading=!1}}updated(e){super.updated(e),e.has("query")&&this.performSearch()}performSearch(){console.log("Attempt a search"),this.query?this.items=this.searchLib.performSearch(this.query):this.items=[]}renderBriefItem(e){return i({link:e.filename,title:e.title,description:e.year})}render(){return super.render()}}e([t({type:Boolean})],a.prototype,"loading",void 0),window.customElements.define("client-search-section",a);
