var t;!function(t){t.Canvas="Canvas",t.CanvasText="CanvasText",t.LinkText="LinkText",t.VisitedText="VisitedText",t.ActiveText="ActiveText",t.ButtonFace="ButtonFace",t.ButtonText="ButtonText",t.Field="Field",t.FieldText="FieldText",t.Highlight="Highlight",t.HighlightText="HighlightText",t.GrayText="GrayText"}(t||(t={}));class e{constructor(t){this.listenerCache=new WeakMap,this.query=t}bind(t){const{query:e}=this,s=this.constructListener(t);s.bind(e)(),e.addListener(s),this.listenerCache.set(t,s)}unbind(t){const e=this.listenerCache.get(t);e&&(this.query.removeListener(e),this.listenerCache.delete(t))}}class s extends e{constructor(t,e){super(t),this.styles=e}static with(t){return e=>new s(t,e)}constructListener(t){let e=!1;const s=this.styles;return function(){const{matches:i}=this;i&&!e?(t.$fastController.addStyles(s),e=i):!i&&e&&(t.$fastController.removeStyles(s),e=i)}}unbind(t){super.unbind(t),t.$fastController.removeStyles(this.styles)}}const i=s.with(window.matchMedia("(forced-colors)"));s.with(window.matchMedia("(prefers-color-scheme: dark)")),s.with(window.matchMedia("(prefers-color-scheme: light)"));export{t as S,i as f};
