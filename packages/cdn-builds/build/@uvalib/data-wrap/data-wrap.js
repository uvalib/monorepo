export{M as MLBData,b as MLBib,m as mlbExtrasURL,a as mlbYearsURL}from"../../MLBData-0a5b677b.js";import{G as t}from"../../ArticlesData-ef19c3aa.js";export{A as ArticlesData,C as CatalogData,D as DataWrap,I as ImagesData}from"../../ArticlesData-ef19c3aa.js";import{G as e}from"../../GeneralSearchResult-331b56d5.js";export{L as LibGuidesData}from"../../LibGuidesData-54f85c20.js";import{D as s,W as i}from"../../LibrariesData-39b0f33e.js";export{a as LibrariesData,L as Library}from"../../LibrariesData-39b0f33e.js";export{a as Event,E as EventsData}from"../../EventsData-bf10c3fb.js";import{p as r,a as o}from"../../WebsiteData-a46fdfc2.js";export{P as Page,b as Person,W as WebsiteData}from"../../WebsiteData-a46fdfc2.js";import"../../document-77724c06.js";import"../../property-4490ebb8.js";class n extends s{constructor(){super(...arguments),this.type="page",this.items=[]}parseResults(t){t.data.forEach((e=>{const{attributes:{drupal_internal__nid:s},meta:a}=e,i=s,r=t.meta.extra_data[i];e.meta=r})),this.items=t.data.map(r),this.meta.totalResults=t.meta.count,this.meta.url=`${i}?keys=${this.query}`}}class l extends e{constructor(t){super(t)}}class p extends s{constructor(){super(...arguments),this.type="person",this.items=[]}parseResults(t){t.data.forEach((e=>{const s=e.attributes.drupal_internal__nid,a=t.meta.extra_data[s];e.meta=a})),this.items=t.data.map(o),this.meta.totalResults=t.meta.count,this.meta.url=`https://library.virginia.edu/search/node?keys=${this.query}`}}class c{constructor(t){Object.assign(this,t)}}function u(t){return new c({id:t.title,title:t.title,type:t.Type.toLowerCase(),description:t.Body,images:t["Featured Image"]?[{alt:t["Featured Image"].alt,url:t["Featured Image"].src}]:void 0,materials:t["MAO Materials"]?t["MAO Materials"].split(","):void 0,link:`https://dh.library.virginia.edu${t.Path}`})}function h(t){const e=u(t);return e.webLinks=function(t){let e;if(t.blogTitles&&t.blogURLs){const s=t.blogTitles.split(","),a=t.blogURLs.split(",");e=s.map(((t,e)=>({title:t,url:a[e],type:"blog"})))}if(t.otherLinkTitles&&t.otherLinkURLs){e||(e=[]);const s=t.otherLinkTitles.split(","),a=t.otherLinkURLs.split(",");e=e.concat(s.map(((t,e)=>({title:t,url:a[e],type:"other"}))))}if(t.publicationLinkTitles&&t.publicationLinkURLs){e||(e=[]);const s=t.publicationLinkTitles.split(","),a=t.publicationLinkURLs.split(",");e=e.concat(s.map(((t,e)=>({title:t,url:a[e],type:"publication"}))))}return e}(t),e.email=t.Email,e.name=t.Name,e.computingId=t["UVA ID"],e}function d(t){const e=u(t);return e.location=t.Location,e.affiliatedUVA=!("Not UVa"===t["Not UVa Affiliated"]),e.certificate=!("no"===t["Certificate Event"]),e.eventType=t["Event Type"],e}class f extends t{constructor(t){super(),this.items=[],this.limit=1e4,this.types={Organization:u,Profile:h,Tool:u,News:u,Event:d,Relationship:u,job:u,"Basic page":u,Course:u},Object.assign(this,t)}async fetchData(){return fetch("https://api.library.virginia.edu/dh/node-listing").then((t=>t.json())).then((t=>this.parseResults(t)))}parseResults(t){return this.items=t.nodes.filter((t=>Object.keys(this.types).includes(t.node.Type))).map((t=>Object.keys(this.types).includes(t.node.Type)?this.types[t.node.Type](t.node):u(t.node))),{items:this.items.slice(0,this.limit),meta:{totalResults:this.items.length}}}}export{f as DHatData,s as DrupalSearchData,e as GeneralSearchResult,n as PageData,p as PersonData,l as VirgoResult,i as WebSearchPageURL};
