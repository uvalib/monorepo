import{G as e}from"./ArticlesData-c115d7bf.js";class t extends e{constructor(){super(...arguments),this.libGuidesAPIURL="https://5570499q1i.execute-api.us-east-2.amazonaws.com/1_1_2/libguides-proxy?"}async fetchData(e){return fetch(`${this.libGuidesAPIURL}q=${this.query}`).then((e=>e.json())).then((t=>(this.meta.url=t.data.fulllink,this.parseResults(t.data.results),{items:this.items.slice(0,e&&e.limit?e.limit:this.limit),meta:this.meta})))}descriptionMarkupFix(e){return e}parseResults(e){const t=document.createElement("div");t.innerHTML=e;const s=t.querySelectorAll(".s-srch-result");this.items=Array.from(s).map((e=>{var t,s;return{title:null===(t=e.querySelector(".s-srch-result-title"))||void 0===t?void 0:t.innerHTML.replace(/\s\s/g," "),description:this.descriptionMarkupFix(null===(s=e.querySelectorAll(".s-srch-result-meta")[1])||void 0===s?void 0:s.innerHTML.replace(/\s\s/g," ")),link:""}})).slice(0),t.remove()}}export{t as L};
