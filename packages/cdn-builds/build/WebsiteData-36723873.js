import{G as t}from"./GeneralSearchResult-331b56d5.js";import{D as a,p as e,W as i}from"./LibrariesData-5c1972f9.js";class s extends t{constructor(t){super(t)}}function r(t){var a;return new s({id:t.id,uuid:t.id,title:t.attributes.title,body:null===(a=t.attributes.body)||void 0===a?void 0:a.processed,description:t.meta&&t.meta.excerpt?t.meta.excerpt.replace(/<(\/?)strong>/g,"<$1mark>"):"",path:t.attributes.path.alias,link:`http://library.virginia.edu${t.attributes.path.alias}`})}class l extends t{constructor(t){super(t)}}function u(t){var a,e,i;return new l({id:t.id,uuid:t.id,title:t.attributes.title,name:t.attributes.title,jobTitle:t.attributes.field_uva_ldap_title,description:(null===(a=t.attributes.body)||void 0===a?void 0:a.processed)||"",path:null===(e=t.attributes.path)||void 0===e?void 0:e.alias,link:`http://library.virginia.edu${null===(i=t.attributes.path)||void 0===i?void 0:i.alias}`,computingId:t.attributes.field_computing_id,email:t.attributes.field_uva_ldap_email})}class d extends a{constructor(){super(...arguments),this.items=[],this.types=["page","person","library"]}parseResults(t){var a;t.data.forEach((a=>{const e=a.attributes.drupal_internal__nid,i=t.meta.extra_data[e];a.meta=i})),this.items=t.data?t.data.map((t=>"node--page"===t.type?r(t):"node--person"===t.type?u(t):"node--library"===t.type?e(t):{title:t.attributes.title,description:t.attributes.body?t.attributes.body.value:null})):[],this.meta.totalResults=(null===(a=t.data)||void 0===a?void 0:a.meta)?t.data.meta.count:t.meta?t.meta.count:0,this.meta.url=`${i}?search_api_fulltext=${this.query}`}}export{s as P,d as W,l as a,u as b,r as p};
