import{a0 as t}from"./SiteStyleMapping-51203cca.js";class s{constructor(t,s){this.cache=new WeakMap,this.ltr=t,this.rtl=s}bind(t){this.attach(t)}unbind(s){const a=this.cache.get(s);a&&t.unsubscribe(a)}attach(s){const h=this.cache.get(s)||new a(this.ltr,this.rtl,s),e=t.getValueFor(s);t.subscribe(h),h.attach(e),this.cache.set(s,h)}}class a{constructor(t,s,a){this.ltr=t,this.rtl=s,this.source=a,this.attached=null}handleChange({target:t,token:s}){this.attach(s.getValueFor(t))}attach(t){this.attached!==this[t]&&(null!==this.attached&&this.source.$fastController.removeStyles(this.attached),this.attached=this[t],null!==this.attached&&this.source.$fastController.addStyles(this.attached))}}export{s as D};
